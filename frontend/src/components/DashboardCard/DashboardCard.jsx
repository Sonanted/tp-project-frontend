import React, { useState } from "react";
import "./DashboardCard.css";
import telegramLogo from "../../assets/telegram-240.svg";

const DashboardCard = () => {
  const [form, setForm] = useState({
    budget: true,
    offBudget: false,
    targetQuota: false,
  });

  const [isPopupOpen, setIsPopupOpen] = useState(false);

  const handleCheckboxChange = (e) => {
    const { name, checked } = e.target;
    setForm((prevForm) => ({
      ...prevForm,
      [name]: checked,
    }));
  };

  const togglePopup = () => {
    setIsPopupOpen(!isPopupOpen);
  };

  return (
    <div className="dashboard-card">
      <div className="header">
        <div>
          <h3>ФИО</h3>
          <p>СНИЛС</p>
        </div>
        <div
          className="logo"
          onClick={() => window.open("https://misis.ru/", "_blank")}
          style={{ cursor: "pointer" }}
        >
          <svg
            width="202"
            height="81"
            viewBox="0 0 202 81"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M133.595 53.566H133.567V48.6468H132.524V55.277H133.471L137.107 50.3578H137.124V55.277H138.166V48.6468H137.22L133.595 53.566ZM139.449 49.5878H141.438V55.2706H142.48V49.5878H144.469V48.6404H139.449V49.5878ZM128.458 54.4172C127.831 54.3802 127.241 54.105 126.81 53.6479C126.379 53.1906 126.139 52.586 126.139 51.9576C126.139 51.3295 126.379 50.7248 126.81 50.2676C127.241 49.8103 127.831 49.535 128.458 49.498C128.834 49.4929 129.207 49.5729 129.548 49.7322C129.889 49.8916 130.19 50.1257 130.428 50.4177L131.157 49.821C130.829 49.4208 130.416 49.0989 129.947 48.879C129.479 48.6592 128.967 48.5469 128.449 48.5505C126.46 48.5505 124.944 50.0669 124.944 51.9619C124.944 53.8569 126.46 55.3711 128.449 55.3711C128.974 55.3713 129.493 55.2552 129.968 55.0306C130.443 54.8061 130.862 54.479 131.195 54.0729L130.466 53.4697C130.223 53.7692 129.915 54.0098 129.566 54.1738C129.217 54.3379 128.835 54.4211 128.449 54.4172H128.458ZM110.081 51.7095C110.331 51.5923 110.541 51.4058 110.687 51.172C110.833 50.9385 110.909 50.6677 110.905 50.392C110.905 49.4445 110.098 48.6404 108.916 48.6404H106.255V55.2706H109.048C110.332 55.2706 111.228 54.3702 111.228 53.3286C111.217 52.9748 111.101 52.6322 110.896 52.3441C110.69 52.0558 110.404 51.8351 110.073 51.7095H110.081ZM107.301 49.5408H108.911C109.033 49.535 109.155 49.5538 109.269 49.5964C109.384 49.6387 109.488 49.7042 109.576 49.7882C109.665 49.8723 109.735 49.9735 109.783 50.0855C109.831 50.1976 109.856 50.3182 109.856 50.4402C109.856 50.5623 109.831 50.6829 109.783 50.795C109.735 50.9071 109.665 51.0082 109.576 51.0923C109.488 51.1763 109.384 51.2416 109.269 51.2841C109.155 51.3267 109.033 51.3455 108.911 51.3395H107.301V49.5408ZM109.053 54.3702H107.301V52.1865H109.053C109.341 52.1865 109.618 52.3013 109.822 52.5054C110.027 52.7096 110.141 52.9864 110.141 53.2751C110.141 53.5639 110.027 53.8408 109.822 54.0451C109.618 54.2491 109.341 54.3638 109.053 54.3638V54.3702ZM123.836 50.7706C123.836 49.5878 122.888 48.6318 121.609 48.6318H118.957V55.2621H120.001V52.903H121.609C122.897 52.903 123.836 51.9555 123.836 50.7706ZM121.609 51.9555H120.001V49.5878H121.609C121.769 49.5812 121.928 49.6067 122.078 49.6631C122.228 49.7196 122.364 49.8058 122.48 49.9164C122.595 50.0269 122.687 50.1598 122.75 50.3067C122.812 50.4536 122.845 50.6119 122.845 50.7717C122.845 50.9316 122.812 51.0897 122.75 51.2369C122.687 51.3838 122.595 51.5166 122.48 51.6272C122.364 51.7378 122.228 51.8239 122.078 51.8804C121.928 51.9367 121.769 51.9623 121.609 51.9555ZM117.546 54.3231H113.803V52.3062H116.692V51.3588H113.811V49.5878H117.447V48.6404H112.77V55.2706H117.554L117.546 54.3231ZM103.261 50.345H103.28V55.2642H104.322V48.6339H103.374L99.7573 53.5532H99.7274V48.6339H98.6858V55.2642H99.6333L103.261 50.345ZM86.8861 53.5189C86.6295 54.0387 86.3172 54.3894 85.6841 54.3894C85.4985 54.3879 85.3139 54.3629 85.1344 54.3146V55.2236C85.3513 55.31 85.5834 55.3515 85.8167 55.3455C86.7449 55.3455 87.378 54.8065 87.8336 53.8013L90.1542 48.6404H89.0848L87.4572 52.3426H87.4379L85.4381 48.6404H84.2832L86.9267 53.4526L86.8861 53.5189ZM92.447 52.3811H95.7129V55.2706H96.7545V48.6404H95.7129V51.4336H92.4619V48.6404H91.4182V55.2706H92.4619L92.447 52.3811ZM150.517 54.3253H146.777V52.3084H149.664V51.3609H146.777V49.59H150.412V48.6425H145.735V55.2727H150.517V54.3253ZM153.512 55.2727H154.553V49.5878H156.542V48.6404H151.522V49.5878H153.512V55.2727ZM111.003 59.5482H109.677L106.693 62.7692V59.5482H105.656V66.1784H106.698V64.1894L107.739 63.0515L109.919 66.1784H111.202L108.437 62.2944L111.003 59.5482ZM101.697 63.2504H101.678L99.6675 59.5482H98.5126L101.165 64.3605L101.126 64.4268C100.87 64.9465 100.557 65.2973 99.922 65.2973C99.7364 65.2955 99.5518 65.2703 99.3724 65.2224V66.1314C99.5894 66.2172 99.8215 66.2586 100.055 66.2533C100.983 66.2533 101.618 65.7143 102.074 64.7091L104.394 59.5482H103.325L101.697 63.2504ZM198.396 58.8381C199.344 58.8381 199.932 58.1965 199.932 57.4158H199.136C199.126 57.6051 199.044 57.783 198.906 57.9133C198.769 58.0436 198.587 58.1161 198.397 58.1161C198.208 58.1161 198.026 58.0436 197.888 57.9133C197.751 57.783 197.669 57.6051 197.658 57.4158H196.863C196.858 58.1943 197.444 58.8381 198.392 58.8381H198.396ZM89.3179 62.3414H86.0413V59.5482H84.9997V66.1784H86.0413V63.2889H89.3094V66.1784H90.3509V59.5482H89.3094L89.3179 62.3414ZM94.2671 59.5482L91.615 66.1784H92.6844L93.3474 64.4674H96.2839L96.947 66.1784H98.0549L95.4028 59.5482H94.2671ZM93.7195 63.5221L94.7889 60.7416H94.806L95.8754 63.5221H93.7195ZM200.259 59.5439L196.64 64.4631H196.612V59.5439H195.571V66.1742H196.516L200.152 61.2549H200.169V66.1742H201.213V59.5439H200.259ZM113.516 64.4631H113.486V59.5439H112.445V66.1742H113.392L117.028 61.2549H117.047V66.1742H118.089V59.5439H117.141L113.516 64.4631ZM177.504 59.4584C177.049 59.4477 176.596 59.5279 176.172 59.6943C175.749 59.8607 175.362 60.11 175.036 60.4279C174.71 60.7455 174.45 61.1251 174.272 61.5445C174.095 61.9637 174.002 62.4144 174.001 62.8697C174.001 64.7647 175.515 66.279 177.504 66.279C179.494 66.279 181.01 64.7647 181.01 62.8697C181.01 60.9748 179.494 59.4584 177.504 59.4584ZM177.504 65.3315C177.017 65.3315 176.541 65.1869 176.135 64.9161C175.73 64.6454 175.414 64.2604 175.228 63.8102C175.042 63.3597 174.993 62.8642 175.088 62.3861C175.183 61.9081 175.418 61.4692 175.763 61.1247C176.108 60.7801 176.547 60.5457 177.025 60.451C177.503 60.356 177.999 60.4052 178.449 60.5919C178.899 60.7788 179.284 61.095 179.554 61.5005C179.825 61.9058 179.969 62.3825 179.968 62.8697C179.97 63.1933 179.907 63.5139 179.784 63.8131C179.66 64.1122 179.479 64.3838 179.25 64.6122C179.02 64.8406 178.748 65.0211 178.449 65.1437C178.149 65.266 177.828 65.3276 177.504 65.3251V65.3315ZM162.197 59.4584C160.208 59.4584 158.692 60.9748 158.692 62.8697C158.692 64.7647 160.208 66.279 162.197 66.279C164.186 66.279 165.701 64.7647 165.701 62.8697C165.699 62.4144 165.607 61.9637 165.43 61.5445C165.252 61.1251 164.992 60.7455 164.666 60.4279C164.34 60.11 163.953 59.8607 163.529 59.6943C163.105 59.5279 162.653 59.4477 162.197 59.4584ZM162.197 65.3315C161.71 65.3319 161.233 65.1878 160.827 64.9172C160.422 64.6466 160.106 64.2619 159.919 63.8117C159.732 63.3612 159.683 62.8657 159.778 62.3874C159.873 61.9094 160.108 61.4701 160.453 61.1255C160.798 60.7808 161.237 60.5459 161.715 60.451C162.193 60.356 162.689 60.405 163.139 60.5917C163.589 60.7784 163.974 61.0945 164.245 61.5C164.515 61.9056 164.659 62.3823 164.659 62.8697C164.66 63.1931 164.598 63.5137 164.474 63.8125C164.351 64.1115 164.17 64.3831 163.941 64.6113C163.712 64.8398 163.44 65.0205 163.141 65.1431C162.841 65.2656 162.521 65.3274 162.197 65.3251V65.3315ZM182.516 66.187H183.557V60.4957H186.78V59.5482H182.518L182.516 66.187ZM189.077 64.476H189.05V59.5567H188.008V66.187H188.956L192.592 61.2678H192.611V66.187H193.652V59.5567H192.705L189.077 64.476ZM168.045 61.5394C167.968 64.7112 167.476 65.2801 166.86 65.2801C166.683 65.2774 166.507 65.2457 166.34 65.186V66.1335C166.532 66.227 166.743 66.2751 166.956 66.2747C168.196 66.2747 168.973 65.4192 169.067 61.5394L169.095 60.4978H171.447V66.1806H172.489V59.5503H168.094L168.045 61.5394ZM132.316 60.4978H134.316V66.1806H135.357V60.4957H137.347V59.5482H132.318L132.316 60.4978ZM123.836 64.4738H123.806V59.5546H122.766V66.1849H123.714L127.35 61.2656H127.369V66.1849H128.411V59.5546H127.463L123.836 64.4738ZM150.357 59.5546H149.136L147.534 61.95H147.514L145.915 59.5546H144.674L146.851 62.7371L144.484 66.1849H145.705L147.495 63.5028H147.514L149.287 66.1784H150.53L148.16 62.7008L150.357 59.5546ZM139.663 63.2205H142.552V62.273H139.663V60.5021H143.299V59.5546H138.613V66.1849H143.395V65.2331H139.663V63.2205ZM156.155 62.3479H152.878V59.5482H151.837V66.1784H152.878V63.2889H156.147V66.1784H157.188V59.5482H156.147L156.155 62.3479Z"
              fill="white"
            />
            <path
              d="M40.1023 31.3333C38.368 31.3333 36.6725 31.8476 35.2306 32.8112C33.7884 33.7747 32.6645 35.1442 32.0008 36.7465C31.3371 38.3489 31.1635 40.1119 31.5018 41.8131C31.8402 43.5141 32.6754 45.0765 33.9017 46.3029C35.1281 47.5293 36.6905 48.3645 38.3915 48.7028C40.0927 49.0412 41.8557 48.8675 43.4581 48.2038C45.0605 47.5402 46.4299 46.4162 47.3934 44.974C48.357 43.5321 48.8713 41.8367 48.8713 40.1023C48.8713 37.7766 47.9474 35.5463 46.3029 33.9017C44.6584 32.2572 42.428 31.3333 40.1023 31.3333ZM8.87598 40.1023C8.87598 31.8205 12.1659 23.8781 18.022 18.022C23.8781 12.1659 31.8205 8.87598 40.1023 8.87598V0C17.9658 0 0 17.9658 0 40.1023C0 62.2388 17.9658 80.2046 40.1023 80.2046V71.3286C31.8205 71.3286 23.8781 68.0387 18.022 62.1827C12.1659 56.3265 8.87598 48.3841 8.87598 40.1023ZM40.1023 51.224C37.9026 51.224 35.7524 50.5717 33.9233 49.3496C32.0945 48.1277 30.669 46.3906 29.8271 44.3585C28.9855 42.3262 28.7652 40.0899 29.1943 37.9325C29.6235 35.7751 30.6827 33.7935 32.238 32.238C33.7935 30.6826 35.7751 29.6235 37.9325 29.1943C40.0899 28.7652 42.3262 28.9855 44.3585 29.8271C46.3906 30.669 48.1277 32.0945 49.3496 33.9233C50.5717 35.7524 51.224 37.9026 51.224 40.1023H60.1C60.1 36.147 58.9271 32.2808 56.7297 28.9922C54.5323 25.7035 51.4092 23.1404 47.7551 21.6268C44.101 20.1133 40.0801 19.7173 36.2009 20.4889C32.3218 21.2605 28.7586 23.165 25.9619 25.9619C23.165 28.7586 21.2605 32.3218 20.4889 36.2009C19.7173 40.0801 20.1133 44.101 21.6268 47.7551C23.1404 51.4092 25.7035 54.5323 28.9922 56.7297C32.2808 58.9271 36.147 60.1 40.1023 60.1V51.224ZM40.1023 8.87598V17.752C46.03 17.752 51.7149 20.1067 55.9065 24.2981C60.0979 28.4897 62.4527 34.1747 62.4527 40.1023C62.4527 46.03 60.0979 51.7149 55.9065 55.9065C51.7149 60.0979 46.03 62.4527 40.1023 62.4527V71.3286C48.3841 71.3286 56.3265 68.0387 62.1828 62.1827C68.0388 56.3265 71.3286 48.3841 71.3286 40.1023C71.3286 31.8205 68.0388 23.8781 62.1828 18.022C56.3265 12.1659 48.3841 8.87598 40.1023 8.87598ZM97.0412 29.6222L86.6488 18.4513H85.0169V40.1023H89.5747V27.9112L96.4038 35.0762H97.6871L104.516 27.9069V40.098H109.074V18.4599H107.431L97.0412 29.6222ZM117.83 31.5643V18.7144H113.275V40.3568H115.037L128.327 27.246V40.1023H132.883V18.4599H131.121L117.83 31.5643ZM146.946 22.607C149.313 22.607 151.424 23.8903 152.81 25.9949L156.018 22.8936C154.981 21.4557 153.619 20.2836 152.042 19.4736C150.465 18.6635 148.718 18.2385 146.946 18.2332C140.79 18.2332 135.61 23.0882 135.61 29.3998C135.61 35.7114 140.801 40.5664 146.946 40.5664C148.718 40.5611 150.465 40.1361 152.042 39.3261C153.619 38.516 154.981 37.3439 156.018 35.906L152.81 32.8048C151.424 34.9093 149.313 36.1926 146.946 36.1926C143.269 36.1926 140.275 33.3737 140.275 29.3998C140.275 25.4259 143.269 22.6156 146.946 22.6156V22.607ZM163.489 31.5643V18.7144H158.931V40.3568H160.696L173.991 27.246V40.1023H178.548V18.4599H176.784L163.489 31.5643ZM192.604 36.1926C188.926 36.1926 185.934 33.3737 185.934 29.3998C185.934 25.4259 188.928 22.607 192.604 22.607C194.972 22.607 197.083 23.8903 198.467 25.9949L201.675 22.8936C200.638 21.4559 199.275 20.284 197.698 19.474C196.121 18.664 194.375 18.2388 192.602 18.2332C186.445 18.2332 181.254 23.0882 181.254 29.3998C181.254 35.7114 186.445 40.5664 192.602 40.5664C194.376 40.5639 196.125 40.1408 197.704 39.3323C199.283 38.5237 200.649 37.3525 201.688 35.9146L198.48 32.8133C197.083 34.9179 194.972 36.2012 192.604 36.2012V36.1926Z"
              fill="white"
            />
          </svg>
        </div>
      </div>

      <div className="content">
        <div className="content-wrapper">
          <div className="choice">
            <h4>Ваш выбор</h4>
            <p>ИТКН</p>
            <p>38.03.05 Бизнес-информатика</p>
            <p>Бакалавриат</p>
            <p>Очная</p>
          </div>
          <div className="ranking">
            <h2>123</h2>
            <p>
              Место в списке
              <br />
              на зачисление
            </p>
          </div>
        </div>

        <div className="checkbox-group">
          <label>
            <input
              type="checkbox"
              name="budget"
              checked={form.budget}
              onChange={handleCheckboxChange}
            />
            Бюджет
          </label>
          <label>
            <input
              type="checkbox"
              name="offBudget"
              checked={form.offBudget}
              onChange={handleCheckboxChange}
            />
            Внебюджет
          </label>
          <label>
            <input
              type="checkbox"
              name="targetQuota"
              checked={form.targetQuota}
              onChange={handleCheckboxChange}
            />
            Целевая квота
          </label>
        </div>

        <div className="button-container">
          <button className="edit-btn">Изменить данные</button>
          <div className="telegram-icon" onClick={togglePopup}>
            <img src={telegramLogo} alt="Telegram" className="telegram-logo" />
          </div>
        </div>
      </div>

      {isPopupOpen && (
        <div className="popup-overlay" onClick={togglePopup}>
          <div className="popup-content" onClick={(e) => e.stopPropagation()}>
            <div className="telegram-icon" onClick={togglePopup}>
              <img
                src={telegramLogo}
                alt="Telegram"
                className="telegram-logo-popup"
              />
              <h3>Оповещать меня об изменениях в Telegram-боте:</h3>
            </div>

            <button
              className="bot-btn"
              onClick={() => window.open("https://t.me", "_blank")}
            >
              ПЕРЕЙТИ В БОТ
            </button>
          </div>
        </div>
      )}
    </div>
  );
};

export default DashboardCard;
